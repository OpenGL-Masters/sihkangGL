# SSAO
Screen-Space Ambient occlusion
**화면 공간**에서 주변 환경에 의한 **광 차단**(Occlusion)을 계산하는 기술. 
주로 ambient light이 닿지 않는 곳을 어둡게 표현함.

## 1. **Ambient Occlusion**의 개념
   - **환경 폐색**(Ambient Occlusion)은 특정 지점 주위에 있는 **기하학적 구조**가 빛의 도달을 **차단하는 정도**를 나타냅니다.
   - 폐색이 더 많이 발생하는 곳(예: 물체의 모서리, 두 물체가 가까운 지점)은 더 어둡게 표현됩니다.
   - 이 효과는 주로 전역 조명(Global Illumination)이나 간접 조명에 의해 빛이 덜 도달하는 곳을 나타냅니다.

## 2. **화면 공간(Screen Space)**에서의 처리
   - SSAO는 **3D 공간**에서의 기하학적 데이터를 사용하는 대신, **화면 공간**(Screen Space)에서 계산을 진행합니다.
   - 이를 위해 **깊이 정보**(Depth Buffer)와 **법선 정보**(Normal Buffer)를 사용하여 각 픽셀의 깊이와 법선을 기준으로 주변 픽셀과 비교하여 폐색을 계산합니다.
   - 즉, **실시간으로** 카메라 시점에서 보이는 화면의 픽셀들만을 대상으로 **광 차단**을 계산하는 방식입니다.

## 3. **핵심 과정**
   1. **G-buffer에서 깊이와 법선 정보 추출**: SSAO는 G-buffer에서 각 픽셀의 **깊이 값**과 **법선 벡터**를 사용합니다.
   2. **샘플링(Sampling)**: 특정 픽셀 주변의 여러 픽셀을 **무작위로 샘플링**하여 그 픽셀들이 얼마나 서로 가까운지, 그로 인해 광이 차단되는지를 계산합니다.
   3. **Occlusion 계산**: 샘플링한 픽셀들의 **깊이 값과 법선 벡터**를 비교하여 **빛이 차단되는 정도**를 계산합니다. 즉, 주변 샘플 픽셀들이 현재 픽셀에 비해 깊이 값이 크면 그만큼 광이 차단된다고 간주하고, 해당 픽셀의 **조도를 낮춥니다**.
   4. **Blur** 및 후처리: Occlusion 값을 계산한 후에는 이를 **블러** 처리하여 부드럽고 자연스러운 어두운 영역을 만듭니다.

## SSAO Sample buffer
- G-Buffers: Position, Normal, Albedo
- Sample kernel
- Random rotation vector
